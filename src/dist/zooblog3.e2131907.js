async function t(){try{let t=await fetch("http://localhost:3000/posts");return await t.json()}catch(t){return console.error("Помилка при отриманні постів:",t),[]}}async function e(t,e){try{let o=await fetch(`http://localhost:3000/posts/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await o.json()}catch(t){return console.error("Помилка при оновленні поста:",t),null}}async function o(t){try{let e=await fetch(`http://localhost:3000/posts/${t}`,{method:"DELETE"});return await e.json()}catch(t){return console.error("Помилка при видаленні поста:",t),null}}const n=t=>t.map(t=>`<li style="margin-bottom: 30px; border-bottom: 1px solid #ccc; padding-bottom: 20px;">
      <b>ID: ${t.id}<br>
      <b>\u{406}\u{43C}'\u{44F}:</b> ${t.name}<br>
      <b>\u{41B}\u{430}\u{439}\u{43A}\u{438}:</b> ${t.likes}<br>
      <b>\u{41F}\u{43E}\u{441}\u{442}-\u{442}\u{435}\u{43A}\u{441}\u{442}:</b> ${t["post-text"]}<br>
      <b>\u{424}\u{43E}\u{442}\u{43E}:</b><br>
      <img src="${t.photo}" alt="\u{424}\u{43E}\u{442}\u{43E}" style="max-width: 200px;"><br>
      <b>\u{41A}\u{43E}\u{43C}\u{435}\u{43D}\u{442}\u{430}\u{440}:</b> ${t.comentar}<br>
      <button onclick="window.editPost('${t.id}')">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
      <button onclick="window.deletePost('${t.id}')">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
    </li>`).join(""),u=document.querySelector(".posts-list"),r=document.getElementById("add-post-form");function i(){t().then(t=>{u.innerHTML=n(t)})}window.deletePost=function(t){o(t).then(()=>i())},window.editPost=function(o){t().then(t=>{let n=t.find(t=>t.id==o);if(!n)return;let u=prompt("Вкажіть нове ім'я:",n.name),r=prompt("Вкажіть нове фото (шлях):",n.photo),s=prompt("Вкажіть новий текст:",n["post-text"]),a=prompt("Напишіть коментар:",n.comentar),c=prompt("Додайте або відніміть лайки",n.likes);e(o,{...n,name:u,photo:r,"post-text":s,comentar:a,likes:Number(c)}).then(()=>i())})},r.addEventListener("submit",function(e){e.preventDefault();let o=document.querySelector(".posts-list"),u=document.getElementById("add-post-form"),r=document.getElementById("name").value.trim(),i=Number(document.getElementById("likes").value),s=document.getElementById("post-text").value.trim(),a=document.getElementById("photo").value.trim(),c=document.getElementById("comentar").value.trim();fetch("http://localhost:3000/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Math.random().toString(36),name:r,likes:i,"post-text":s,photo:a,comentar:c})}).then(t=>t.json()).then(()=>t()).then(t=>{o.innerHTML=n(t),u.reset()}).catch(()=>alert("Помилка при додаванні поста"))}),i();
//# sourceMappingURL=zooblog3.e2131907.js.map
